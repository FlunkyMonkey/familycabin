{"ast":null,"code":"import React,{useState}from'react';import{Box,Typography,Paper,TextField,Button,Grid,CircularProgress,Alert,Divider}from'@mui/material';import{useNavigate}from'react-router-dom';import{useMutation}from'@apollo/client';import CabinIcon from'@mui/icons-material/Cabin';import{CREATE_CABIN}from'../graphql/mutations';import{GET_MY_CABINS}from'../graphql/queries';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateCabin=()=>{const navigate=useNavigate();const[formState,setFormState]=useState({name:'',description:'',location:'',image:''});const[error,setError]=useState('');// Create cabin mutation\nconst[createCabin,{loading}]=useMutation(CREATE_CABIN,{onCompleted:data=>{navigate(`/cabins/${data.createCabin._id}`);},onError:error=>{setError(error.message);},refetchQueries:[{query:GET_MY_CABINS}]});// Handle form input change\nconst handleChange=event=>{const{name,value}=event.target;setFormState({...formState,[name]:value});};// Handle form submission\nconst handleSubmit=async event=>{event.preventDefault();setError('');// Validate form\nif(!formState.name||!formState.description||!formState.location){setError('Please fill in all required fields');return;}try{await createCabin({variables:{...formState}});}catch(e){// Error is handled in onError callback\n}};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"Create New Cabin\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Set up a new cabin space for your family or friends.\"})]}),/*#__PURE__*/_jsxs(Paper,{elevation:2,sx:{p:3,borderRadius:2,maxWidth:800,mx:'auto',background:'linear-gradient(to right, rgba(93, 64, 55, 0.05), rgba(46, 125, 50, 0.05))'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(CabinIcon,{sx:{fontSize:40,color:'primary.main',mr:2}}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"h2\",children:\"Cabin Details\"})]}),/*#__PURE__*/_jsx(Divider,{sx:{mb:3}}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,label:\"Cabin Name\",name:\"name\",value:formState.name,onChange:handleChange,disabled:loading,placeholder:\"e.g. Mountain View Retreat\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,label:\"Location\",name:\"location\",value:formState.location,onChange:handleChange,disabled:loading,placeholder:\"e.g. Lake Tahoe, California\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{required:true,fullWidth:true,label:\"Description\",name:\"description\",multiline:true,rows:4,value:formState.description,onChange:handleChange,disabled:loading,placeholder:\"Describe your cabin, its surroundings, and any special features...\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Image URL\",name:\"image\",value:formState.image,onChange:handleChange,disabled:loading,placeholder:\"https://example.com/cabin-image.jpg\",helperText:\"Optional: Provide a URL to an image of your cabin\"})})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:4,display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:()=>navigate('/cabins'),disabled:loading,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:loading,startIcon:loading&&/*#__PURE__*/_jsx(CircularProgress,{size:20,color:\"inherit\"}),children:loading?'Creating...':'Create Cabin'})]})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:4,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"As the creator, you'll automatically be assigned as the cabin admin.\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"You can invite others to join your cabin after creation.\"})]})]});};export default CreateCabin;","map":{"version":3,"names":["React","useState","Box","Typography","Paper","TextField","Button","Grid","CircularProgress","Alert","Divider","useNavigate","useMutation","CabinIcon","CREATE_CABIN","GET_MY_CABINS","jsx","_jsx","jsxs","_jsxs","CreateCabin","navigate","formState","setFormState","name","description","location","image","error","setError","createCabin","loading","onCompleted","data","_id","onError","message","refetchQueries","query","handleChange","event","value","target","handleSubmit","preventDefault","variables","e","children","sx","mb","variant","component","gutterBottom","color","elevation","p","borderRadius","maxWidth","mx","background","display","alignItems","fontSize","mr","severity","onSubmit","noValidate","container","spacing","item","xs","required","fullWidth","label","onChange","disabled","placeholder","multiline","rows","helperText","mt","justifyContent","onClick","type","startIcon","size","textAlign"],"sources":["/Users/mikeb/familycabin/client/src/pages/CreateCabin.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n  Box, \n  Typography, \n  Paper, \n  TextField, \n  Button, \n  Grid,\n  CircularProgress,\n  Alert,\n  Divider\n} from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport CabinIcon from '@mui/icons-material/Cabin';\n\nimport { CREATE_CABIN } from '../graphql/mutations';\nimport { GET_MY_CABINS } from '../graphql/queries';\n\nconst CreateCabin = () => {\n  const navigate = useNavigate();\n  const [formState, setFormState] = useState({\n    name: '',\n    description: '',\n    location: '',\n    image: '',\n  });\n  const [error, setError] = useState('');\n  \n  // Create cabin mutation\n  const [createCabin, { loading }] = useMutation(CREATE_CABIN, {\n    onCompleted: (data) => {\n      navigate(`/cabins/${data.createCabin._id}`);\n    },\n    onError: (error) => {\n      setError(error.message);\n    },\n    refetchQueries: [{ query: GET_MY_CABINS }],\n  });\n  \n  // Handle form input change\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n  \n  // Handle form submission\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setError('');\n    \n    // Validate form\n    if (!formState.name || !formState.description || !formState.location) {\n      setError('Please fill in all required fields');\n      return;\n    }\n    \n    try {\n      await createCabin({\n        variables: { ...formState },\n      });\n    } catch (e) {\n      // Error is handled in onError callback\n    }\n  };\n  \n  return (\n    <Box>\n      <Box sx={{ mb: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Create New Cabin\n        </Typography>\n        <Typography variant=\"body1\" color=\"text.secondary\">\n          Set up a new cabin space for your family or friends.\n        </Typography>\n      </Box>\n      \n      <Paper \n        elevation={2} \n        sx={{ \n          p: 3, \n          borderRadius: 2,\n          maxWidth: 800,\n          mx: 'auto',\n          background: 'linear-gradient(to right, rgba(93, 64, 55, 0.05), rgba(46, 125, 50, 0.05))'\n        }}\n      >\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\n          <CabinIcon sx={{ fontSize: 40, color: 'primary.main', mr: 2 }} />\n          <Typography variant=\"h5\" component=\"h2\">\n            Cabin Details\n          </Typography>\n        </Box>\n        \n        <Divider sx={{ mb: 3 }} />\n        \n        {error && (\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\n            {error}\n          </Alert>\n        )}\n        \n        <Box component=\"form\" onSubmit={handleSubmit} noValidate>\n          <Grid container spacing={3}>\n            <Grid item xs={12}>\n              <TextField\n                required\n                fullWidth\n                label=\"Cabin Name\"\n                name=\"name\"\n                value={formState.name}\n                onChange={handleChange}\n                disabled={loading}\n                placeholder=\"e.g. Mountain View Retreat\"\n              />\n            </Grid>\n            \n            <Grid item xs={12}>\n              <TextField\n                required\n                fullWidth\n                label=\"Location\"\n                name=\"location\"\n                value={formState.location}\n                onChange={handleChange}\n                disabled={loading}\n                placeholder=\"e.g. Lake Tahoe, California\"\n              />\n            </Grid>\n            \n            <Grid item xs={12}>\n              <TextField\n                required\n                fullWidth\n                label=\"Description\"\n                name=\"description\"\n                multiline\n                rows={4}\n                value={formState.description}\n                onChange={handleChange}\n                disabled={loading}\n                placeholder=\"Describe your cabin, its surroundings, and any special features...\"\n              />\n            </Grid>\n            \n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                label=\"Image URL\"\n                name=\"image\"\n                value={formState.image}\n                onChange={handleChange}\n                disabled={loading}\n                placeholder=\"https://example.com/cabin-image.jpg\"\n                helperText=\"Optional: Provide a URL to an image of your cabin\"\n              />\n            </Grid>\n          </Grid>\n          \n          <Box sx={{ mt: 4, display: 'flex', justifyContent: 'space-between' }}>\n            <Button\n              variant=\"outlined\"\n              onClick={() => navigate('/cabins')}\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              disabled={loading}\n              startIcon={loading && <CircularProgress size={20} color=\"inherit\" />}\n            >\n              {loading ? 'Creating...' : 'Create Cabin'}\n            </Button>\n          </Box>\n        </Box>\n      </Paper>\n      \n      <Box sx={{ mt: 4, textAlign: 'center' }}>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          As the creator, you'll automatically be assigned as the cabin admin.\n        </Typography>\n        <Typography variant=\"body2\" color=\"text.secondary\">\n          You can invite others to join your cabin after creation.\n        </Typography>\n      </Box>\n    </Box>\n  );\n};\n\nexport default CreateCabin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}